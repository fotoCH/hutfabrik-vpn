{% extends 'base.html' %}

{% block content %}
<h1>VPN Benutzer</h1>
<br>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newuser-modal">
  neuer Benutzer erstellen
</button>

<!-- Modal -->
<div class="modal fade" id="newuser-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Neuer Benutzer</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <form id="newuserform">

            <div class="form-group">
              <label for="nuser">Username</label>
              <input type="text" class="form-control" id="nuser" placeholder="">
            </div>

            <div class="form-group">
              <label for="npass">Passwort</label>
              <input type="password" class="form-control" id="npass" placeholder="">
            </div>

            <div class="form-group">
              <label for="ndesc">Bemerkungen</label>
              <textarea class="form-control" id="ndesc" rows="3"></textarea>
            </div>

            <div class="form-group">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="nisadmin">
                <label class="form-check-label" for="nisadmin">
                  Benutzer ist admin
                </label>
              </div>
            </div>
            <br>
          </form>
          <div id="messagearea-newuser"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Schliessen</button>
        <button type="button" class="btn btn-primary" id="btn-newuser">Benutzer erstellen</button>
      </div>
    </div>
  </div>
</div>



<!-- edit user !-->
<!-- Modal -->
<div class="modal fade" id="edituser-modal" tabindex="-1" role="dialog" aria-labelledby="edituser-modal" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Benutzer bearbeiten</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <form id="edituserform">

            <div class="form-group">
              <label for="nuser">Username</label>
              <input type="text" class="form-control" id="euser" placeholder="" readonly>
            </div>

            <div class="form-group">
              <label for="npass">Passwort</label>
              <input type="password" class="form-control" id="epass" placeholder="">
            </div>

            <div class="form-group">
              <label for="ndesc">Bemerkungen</label>
              <textarea class="form-control" id="edesc" rows="3"></textarea>
            </div>

            <div class="form-group">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="eisadmin">
                <label class="form-check-label" for="eisadmin">
                  Benutzer ist admin
                </label>
              </div>
            </div>
            <br>
          </form>
          <div id="messagearea-edituser"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Schliessen</button>
        <button type="button" class="btn btn-danger" id="btn-deluser">Benutzer lÃ¶schen</button>
        <button type="button" class="btn btn-primary" id="btn-edituser">Speichern</button>
      </div>
    </div>
  </div>
</div>


<br><br>



<table class="table">
  <thead class="thead-light">
    <tr>
      <th scope="col">Username</th>
      <th scope="col">Bemerkungen</th>
      <th scope="col">admin</th>
    </tr>
  </thead>
  <tbody id="userlist">
  </tbody>
</table>



<div id="admin-tplarea">
  <table class="table">
  <tr class="userentry">
    <th scope="row" class="user">
      <a class="edituser">
        <span class="username"></span>
      </a>
    </th>
    <td class="desc"></td>
    <td class="isadm">
      <svg class="isadm_icon hidden bi bi-check" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
      </svg>
    </td>
  </tr>
  </table>
</div>

{% endblock %}
